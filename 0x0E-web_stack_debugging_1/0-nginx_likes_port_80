#!/usr/bin/env bash
# This script configures Nginx to listen on port 80

# Install Nginx if not already installed
sudo apt-get update
sudo apt-get install -y nginx

# Verify if Nginx is running
if ! pgrep -x "nginx" > /dev/null; then
    # Start Nginx if not running
    sudo service nginx start
fi

# Check Nginx configuration for errors
if sudo nginx -t | grep "test is successful"; then
    # Reload Nginx to apply changes
    sudo service nginx reload
    echo "Nginx is now listening on port 80"
else
    echo "Error: Nginx configuration test failed. Please check your configuration files."
fi
